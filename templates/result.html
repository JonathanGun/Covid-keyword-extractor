{% extends "layout.html" %}
{% block content %}
<div id="accordion mb-4">
    <p><b> {{ results|length }} </b> files processed </p>
    {% for result in results %}
    <div class="card">
        <button class="btn btn-dark" data-toggle="collapse" data-target="#collapse-{{ loop.index }}" aria-expanded="true" aria-controls="collapse-{{ loop.index }}">
            {{ result.filename }}
        </button>
        <div id="collapse-{{ loop.index }}" class="collapse show" aria-labelledby="heading-{{ loop.index }}">
            <div class="card-body">
                <ul class="list-group">
                    <p> <b>{{ result.count.total }}</b> matches (<b>{{ result.count.weak }}</b> weak/partial matches) found </p>
                    {% for match in result.matches %}
                    <li class="list-group-item">
                        <div>
                            <p> Keyword: {{ match.keyword|safe }} </p>
                            <p> Jumlah: {{ match.num }} </p>
                            <p> Waktu: {{ match.date }} </p>
                            <p> {{ match.sentence|safe }} </p>
                        </div>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock content %}